!function(){var t,e,r,a,i,n={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var a in e)n.call(e,a)&&(t[a]=e[a]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};r="table.base-map>tbody",$.fn.extend({forward:function(t){var e,r;return r=$(this),e=r.find("td:eq("+t+")>div").addClass("ball").css("visibility","visible"),e.fadeOut(100,function(){return $(this).removeClass().css("visibility","hide"),null!=r.prev()?r.prev().forward(t):void 0})}}),t=function(t){function e(){return a=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.defaults={airplaneSeat:0},e}(Backbone.Model),e=function(e){function a(){return i=a.__super__.constructor.apply(this,arguments)}return s(a,e),a.prototype.tagName="div",a.prototype.className="airplane",a.prototype.initialize=function(){var e,a,i;return _.bindAll(this,"render","moveLeft","moveRight","shot"),e=$(r),i=e.find("tr").size(),a=e.find("tr:first td").size(),this.$airplaneTr=e.find("tr:gt("+(i-7)+")").filter("tr:lt(5)"),this.model=new t({airplaneSeat:parseInt(a/2)-4}),this.render()},a.prototype.render=function(){var t;return t=this.model.get("airplaneSeat"),this.$airplaneTr.each(function(e,r){var a;return a=$(r).find("td:gt("+t+")").filter("td:lt(5)"),a.addClass("airplane-matrix"),1===e&&a.eq(2).addClass("airplane"),2===e&&a.filter("td:gt(0)").filter("td:lt(3)").addClass("airplane"),3===e&&a.addClass("airplane"),4===e?a.filter("td:gt(0)").filter("td:lt(3)").addClass("airplane"):void 0})},a.prototype.moveLeft=function(t){var e;return e=!0,void 0===t&&(t=this.className),this.$airplaneTr.each(function(){var r,a;return r=$(this).find("td."+t),a=r.first().prev(),a.hasClass("snake-road")?(e=!1,!1):(a.addClass(t),r.last().removeClass(t))}),e},a.prototype.moveRight=function(t){var e;return e=!0,void 0===t&&(t=this.className),this.$airplaneTr.each(function(){var r,a;return r=$(this).find("td."+t),a=r.last().next(),a.hasClass("snake-road")?(e=!1,!1):(a.addClass(t),r.first().removeClass(t))}),e},a.prototype.shot=function(){var t,e,r,a;return t=this.$airplaneTr.eq(1).find("td."+this.className),r=t.closest("tr"),e=r.find("td"),a=e.index(t),r.prev().forward(a)},a}(Backbone.View),$(document).ready(function(){var t;return t=new e,$(document).keydown(function(e){if(37===e.keyCode){if(t.moveLeft("airplane-matrix"))return t.moveLeft()}else if(39===e.keyCode){if(t.moveRight("airplane-matrix"))return t.moveRight()}else if(32===e.keyCode)return t.shot()})})}.call(this);